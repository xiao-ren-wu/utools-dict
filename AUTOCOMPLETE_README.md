# 自动补全功能使用说明

## 功能概述

为数据字典搜索功能添加了类似终端的自动补全功能，当用户输入关键字前缀时，系统会自动显示可用的关键字建议。

## 主要特性

### 1. 关键字自动补全
- 输入关键字前缀时，系统会显示匹配的关键字建议
- 建议以浅色文字显示在输入框内
- 支持模糊匹配（不区分大小写）

### 2. 键盘导航
- **右方向键 (→)**: 接受当前建议的关键字
- **下方向键 (↓)**: 向下选择建议项
- **上方向键 (↑)**: 向上选择建议项
- **回车键 (Enter)**: 选择当前高亮的建议项
- **Tab键**: 快速补全第一个匹配的关键字
- **ESC键**: 关闭建议列表

### 3. 鼠标交互
- 点击建议项可直接选择
- 鼠标悬停会高亮对应的建议项

## 使用方法

### 1. 基本搜索
1. 在uTools中输入 `dict` 指令
2. 在关键字输入框中输入关键字前缀（如：`人`）
3. 系统会显示匹配的关键字建议（如：`人员`）
4. 按右方向键或点击建议项来接受建议

### 2. 带搜索内容的查询
1. 输入关键字后，在搜索内容框中输入要查询的内容
2. 格式：`关键字:搜索内容`（如：`人员:张三`）
3. 系统会在指定关键字的数据中搜索匹配的记录

### 3. 快速补全
- 在关键字输入框中按 `Tab` 键可快速补全第一个匹配的关键字
- 在完整输入框中输入 `关键字:` 后，系统会自动显示该关键字的所有数据

## 界面说明

### 搜索输入区域
- **关键字输入框**: 支持自动补全的关键字输入
- **搜索内容输入框**: 输入要搜索的具体内容（可选）
- **完整输入框**: 显示完整的搜索表达式
- **可用关键字提示**: 显示所有可用的关键字列表

### 搜索结果区域
- 显示匹配的数据记录
- 支持表格视图和树形视图切换
- 显示搜索结果数量统计

## 测试数据

为了测试自动补全功能，可以使用以下测试数据：

```javascript
// 在浏览器控制台中运行以下命令添加测试数据
const testData = {
  "人员": [
    {
      "_id": "1",
      "姓名": "张三",
      "部门": "技术部",
      "职位": "前端工程师",
      "年龄": "28",
      "邮箱": "zhangsan@example.com",
      "createTime": "2024-01-15 10:30:00"
    }
    // ... 更多数据
  ],
  "项目": [
    // ... 项目数据
  ],
  "客户": [
    // ... 客户数据
  ]
}

window.utools.dbStorage.setItem('dict_data', testData)
```

## 技术实现

### 组件结构
- `AutoComplete.jsx`: 核心自动补全组件
- `SearchInput.jsx`: 搜索输入组件，集成自动补全功能
- `SearchPage.jsx`: 搜索页面，使用新的搜索输入组件

### 主要功能
1. **前缀匹配**: 基于输入前缀过滤关键字建议
2. **实时更新**: 输入变化时实时更新建议列表
3. **键盘导航**: 支持完整的键盘操作
4. **视觉反馈**: 清晰的视觉提示和状态反馈
5. **uTools集成**: 与uTools子输入框完美集成

## 注意事项

1. 自动补全功能需要先有数据才能正常工作
2. 关键字建议基于已存储的数据字典关键字
3. 搜索是实时的，输入变化会立即触发搜索
4. 支持中文和英文关键字
5. 建议列表最多显示200px高度，超出部分可滚动 